<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>云归 - CloudReturn</title>
    <link rel="stylesheet" href="styles.css?v=20260204-2">
</head>
<body>
    <div id="app-container" class="app-container">
        <!-- 直接嵌入原始SVG，保留所有路径 -->
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="393" height="851" viewBox="0 0 393 851" preserveAspectRatio="xMidYMid meet">
          <defs>
            <style>
              .cls-1, .cls-4, .cls-5, .cls-6, .cls-7, .cls-8 {
                fill: #fff;
              }

              .cls-2 {
                clip-path: url(#clip-Google_Pixel_5_1);
              }

              .cls-3 {
                fill: #000;
              }

              .cls-4 {
                font-size: 16px;
              }

              .cls-4, .cls-7 {
                font-family: FZLTZHJW--GB1-0, FZLanTingHeiS-DB-GB;
              }

              .cls-5 {
                font-size: 17px;
              }

              .cls-5, .cls-6 {
                font-family: AdobeSongStd-Light, Adobe Song Std;
                font-weight: 300;
              }

              /* 统一 APK/浏览器的英文 Logo 字体（避免 Android WebView 回退成不同字体） */
              #CloudReturn {
                font-family: "Times New Roman", "Noto Serif", "Noto Serif SC", serif !important;
                font-weight: 300;
              }

              .cls-6 {
                font-size: 8.05px;
              }

              .cls-7 {
                font-size: 10px;
              }

              .cls-8 {
                font-size: 11px;
                font-family: FZLTZHUNHJW--GB1-0, FZLanTingHeiS-M-GB;
              }

              .cls-9 {
                fill: none;
                stroke: #fff;
                stroke-miterlimit: 10;
                stroke-width: 0.659px;
              }

              .cls-10 {
                fill: #30ac94;
              }

              .cls-11 {
                fill: #ffd72e;
              }

              .cls-12 {
                fill: red;
              }

              .cls-13 {
                fill: #85d0f9;
              }

              .cls-14 {
                clip-path: url(#clip-path);
              }

              .cls-15 {
                fill: silver;
                opacity: 0.5;
              }
            </style>
            <clipPath id="clip-path">
              <rect id="矩形_20" data-name="矩形 20" class="cls-1" width="50.796" height="24.063"/>
            </clipPath>
            <clipPath id="clip-Google_Pixel_5_1">
              <rect width="393" height="851"/>
            </clipPath>
          </defs>
          <g id="Google_Pixel_5_1" data-name="Google Pixel 5 – 1" class="cls-2">
            <rect class="cls-1" width="393" height="851"/>
            <rect id="矩形_1" data-name="矩形 1" class="cls-3" width="393" height="851"/>
            <!-- 游客信息显示区域移到SVG末尾，避免被后续元素遮挡 -->
            <g id="组_1" data-name="组 1" transform="translate(345 12.469)">
              <path id="路径_119" data-name="路径 119" class="cls-1" d="M780.319,670.58a6.95,6.95,0,0,0-6.03-6.866c-.08-.032-.143-.1-.235-.1s-.191.022-.287.026c-.044,0-.086-.016-.129-.018a7.568,7.568,0,0,0,.072-1.05,8.005,8.005,0,0,0-15.967-.838c-.032-.008-.064,0-.1-.012a7.887,7.887,0,0,0-1.159-.133c-.177-.012-.352-.062-.532-.062a8,8,0,0,0-4.453,14.654,5.906,5.906,0,0,0,3.756,1.356H774.4a5.924,5.924,0,0,0,5.918-5.918c0-.171-.008-.347-.024-.524C780.307,670.938,780.319,670.763,780.319,670.58Zm-5.922,5.57H755.255a4.519,4.519,0,0,1-2.894-1.057l-.059-.046a6.611,6.611,0,0,1,3.646-12.124l.008,0a6.593,6.593,0,0,1,1.231.125c.143.028.285.074.426.111a6.606,6.606,0,0,1,4.956,6.377.7.7,0,0,0,1.392,0,8.012,8.012,0,0,0-4.845-7.35,6.6,6.6,0,1,1,13.018,1.711,7.32,7.32,0,0,0-2.8,1.446.7.7,0,0,0,.45,1.225.68.68,0,0,0,.45-.167,5.892,5.892,0,0,1,3.427-1.366,5.564,5.564,0,0,1,5.261,5.54c0,.156-.012.313-.024.466l0,.064.008.066a4.358,4.358,0,0,1,.024.45A4.531,4.531,0,0,1,774.4,676.15Z" transform="translate(-747.953 -654.569)"/>
              <path id="路径_120" data-name="路径 120" class="cls-1" d="M754.917,659.112A5.925,5.925,0,0,0,749,665.03a.347.347,0,0,0,.346.346.351.351,0,0,0,.351-.351,5.227,5.227,0,0,1,5.219-5.219.347.347,0,1,0,0-.695Z" transform="translate(-746.914 -650.065)"/>
              <path id="路径_121" data-name="路径 121" class="cls-1" d="M749.522,662.783a.347.347,0,0,0-.347.346v0a.347.347,0,0,0,.695,0h0A.347.347,0,0,0,749.522,662.783Z" transform="translate(-746.742 -646.426)"/>
            </g>
            <text id="CloudReturn" class="cls-5" transform="translate(333 53.266)"><tspan x="-44.158" y="0">CloudReturn</tspan></text>
            <text id="本平台仅提供数字纪念与情感寄托服务_不涉及任何宗教裁定或灵魂归属判断" data-name="本平台仅提供数字纪念与情感寄托服务 / 不涉及任何宗教裁定或灵魂归属判断" class="cls-6" transform="translate(0 819)"><tspan x="0" y="0">本平台仅提供数字纪念与情感寄托服务 / 不涉及任何宗教裁定或灵魂归属判断</tspan></text>
            <text id="location-text" class="cls-7" transform="translate(25 142.234)"><tspan id="location-tspan" x="0" y="0">定位中...</tspan></text>
            <!-- 添加图片图标 - 右上角圆圈+号图标 -->
            <!-- 屏幕宽度393，右上角位置约在x=370左右，y=167.234（位置文字172.234向上5px） -->
            <g id="add-image-button" class="add-image-icon" transform="translate(363 137.234)" style="cursor: pointer; pointer-events: all;">
              <!-- 放大 30%（保持外层位置不变） -->
              <g transform="scale(1.56)">
                <!-- 圆圈 -->
                <circle cx="0" cy="0" r="8" fill="none" stroke="#fff" stroke-width="1.2"/>
                <!-- 加号横线 -->
                <line x1="-4" y1="0" x2="4" y2="0" stroke="#fff" stroke-width="1.2" stroke-linecap="round"/>
                <!-- 加号竖线 -->
                <line x1="0" y1="-4" x2="0" y2="4" stroke="#fff" stroke-width="1.2" stroke-linecap="round"/>
              </g>
            </g>
            <g id="组_3" data-name="组 3" transform="translate(0 124.71)" class="location-icon-clickable" style="cursor: pointer;">
              <g id="组_60" data-name="组 60">
                <path id="路径_123" data-name="路径 123" class="cls-1" d="M544.484,723.966a1.873,1.873,0,1,0-1.873,1.873A1.829,1.829,0,0,0,544.484,723.966ZM550.9,734a3.089,3.089,0,0,0-1.471-.534,7.061,7.061,0,0,0-1.739-.134h-.134c-.266,0-.4.268-.4.534a.574.574,0,0,0,.534.536h.535c1.069.134,1.605.268,1.739.536a1.016,1.016,0,0,1,.268.534c0,.268-.536.67-1.873,1.071a23.3,23.3,0,0,1-5.752.536,22.624,22.624,0,0,1-5.751-.536c-1.6-.4-2.007-.937-2.007-1.071a.7.7,0,0,1,.268-.534,5.165,5.165,0,0,1,1.471-.4h.668A.576.576,0,0,0,537.8,734c0-.266-.134-.4-.4-.534h-.134a6.952,6.952,0,0,0-2.808.534,2.04,2.04,0,0,0-.936,1.6,1.7,1.7,0,0,0,.936,1.473,5.051,5.051,0,0,0,1.873.668,24.975,24.975,0,0,0,6.018.536,21.984,21.984,0,0,0,5.752-.536,5.526,5.526,0,0,0,2.141-.8,2.528,2.528,0,0,0,1.069-1.339,1.239,1.239,0,0,0-.4-1.6Z" transform="translate(-533.517 -717.01)"/>
                <path id="路径_124" data-name="路径 124" class="cls-1" d="M540.585,736.865a1.214,1.214,0,0,0,.936.4,1.445,1.445,0,0,0,.937-.4c1.2-1.6,2.141-3.076,3.478-5.217,1.471-2.408,2.407-4.413,2.407-5.752a6.678,6.678,0,0,0-1.873-4.681,6.49,6.49,0,0,0-4.681-2.007h-.268a6.491,6.491,0,0,0-4.681,2.007,6.048,6.048,0,0,0-1.873,4.681c-.134,1.339.67,3.478,2.141,5.752,1.337,2.275,2.407,3.612,3.478,5.217Zm-2.676-14.713a5.22,5.22,0,0,1,3.612-1.6,5.5,5.5,0,0,1,5.217,5.215,9.227,9.227,0,0,1-1.337,3.612c-.936,1.6-2.007,3.344-3.612,5.618,0,.134-.134.134-.268.134s-.268,0-.268-.134c-3.076-4.28-4.949-7.757-4.949-9.23A4.775,4.775,0,0,1,537.909,722.152Z" transform="translate(-532.426 -719.208)"/>
              </g>
            </g>
            <!-- 注册图标（用户+加号）- 放在"你思·故我在"文字前面，黄色，向上移动6px（3+2+1） -->
            <!-- "你思·故我在"位置：translate(328.959 121.968)，文字左边缘约280.959（328.959-48） -->
            <!-- 注册图标路径起点：M763,1084.334，内层transform：translate(-205.069 -407.219) -->
            <!-- 目标位置：与主图片框左边缘对齐（图片框x=12.5），并保持比“你思·故我在”上方6px -->
            <!-- 当前“你思·故我在”y=116.968 => 注册图标y=110.968 -->
            <!-- 计算x：763 + x + (-205.069) = 12.5 => x = 12.5 - 763 + 205.069 = -545.431 -->
            <!-- 计算y：1084.334 + y + (-407.219) = 110.968 => y = 110.968 - 1084.334 + 407.219 = -566.147 -->
            <g id="组_4" data-name="组 4" transform="translate(-541.931 -570.147)" class="register-button" style="cursor: pointer;">
              <path id="路径_2" data-name="路径 2" class="cls-1 register-icon" d="M763,1084.334a4.807,4.807,0,0,0-1.564,1.315,6.755,6.755,0,0,0-10,5.923.968.968,0,0,1-1.937,0,8.691,8.691,0,0,1,5.274-7.991,6.225,6.225,0,1,1,6.83,0,8.719,8.719,0,0,1,1.395.753Zm-4.81-1.671a4.29,4.29,0,1,0-4.29-4.29A4.29,4.29,0,0,0,758.192,1082.663Zm5.964,6.881h-2.02a.968.968,0,1,1,0-1.935h2.02v-2.022a.968.968,0,0,1,1.937,0v2.022h2.022a.968.968,0,0,1,0,1.935h-2.022v2.022a.968.968,0,0,1-1.937,0v-2.022Z" transform="translate(-205.069 -407.219)" style="fill: #ffd72e;"/>
            </g>
            <g id="组_6" data-name="组 6" transform="translate(326.204 58.684)">
              <g id="组_131" data-name="组 131" class="cls-14" transform="translate(0 0)">
                <path id="路径_196" data-name="路径 196" class="cls-1" d="M25.084,2.377,24.4,1.189,23.711,0l-.685,1.189-.687,1.187h.706c.006.438.011.872.011,1.325,0,1.808-.025,3.877-.128,6.847-.206,6.615-1.265,9.716-8.061,13.126l.13.389c6.511-2.454,8.629-5.918,8.914-10.773.257-4.219.385-7.974.385-10.913Z" transform="translate(13.198 0)"/>
                <path id="路径_197" data-name="路径 197" class="cls-1" d="M16.915,4.808v6.666c0,1.68-.026,3.1-.128,4.264v.232c0,.259.051.361.155.361a1.118,1.118,0,0,0,.466-.206c.646-.44.748-.619.748-1.059C18.131,13.954,18.1,12.9,18.1,11.5V3.723h.78L18.2,2.533l-.685-1.187-.687,1.187-.685,1.189H16.9c.008.395.015.776.015,1.085" transform="translate(14.327 1.195)"/>
                <path id="路径_198" data-name="路径 198" class="cls-1" d="M32.469,7.164V3.338h.742L32.526,2.15l-.057-.1V2.026L32.437,2l-.6-1.033L31.153,2.15,30.8,2.77h-7.81c-.595,0-1.242-.051-1.886-.1l.721.955a5.291,5.291,0,0,1,1.731-.283H31.2v7.1H22.883c-.595,0-1.24-.051-1.886-.1l.723.955a5.283,5.283,0,0,1,1.731-.283H31.2v7.674H21.694c-.593,0-1.238-.053-1.886-.1l.725.955a5.266,5.266,0,0,1,1.731-.283H31.2v2.686c0,.285.026.44.155.44.077,0,1.24-.491,1.24-1.138v-.077c-.077-1.161-.128-2.764-.128-4.727Z" transform="translate(17.585 0.855)"/>
                <path id="路径_199" data-name="路径 199" class="cls-1" d="M23.51,6.583,22.825,5.4l-.687-1.189L21.452,5.4l-.359.619H1.886c-.6,0-1.242-.053-1.886-.1l.721.955a5.333,5.333,0,0,1,1.731-.283H11.03a50.957,50.957,0,0,1-5.476,8.14A4.632,4.632,0,0,1,2.66,16.144L3.591,17.9c.077.155.128.208.206.208a.316.316,0,0,0,.232-.1c.336-.259,1.474-.544,4.859-.776L19.3,16.556a3.686,3.686,0,0,1,.31,1.085c.053.749.261,1.034.6,1.034.67,0,1.11-.827,1.11-1.731a2.777,2.777,0,0,0-.053-.466c-.232-1.291-3.126-3.747-6.382-6.175l-.232.259a22.937,22.937,0,0,1,4.368,5.425l-13.926.157A78.182,78.182,0,0,0,11.832,8.6c.155-.179.31-.283,1.084-.515.232-.077.338-.128.338-.206s-.079-.157-.234-.285L11.7,6.583H23.51Z" transform="translate(0 3.734)"/>
                <path id="路径_200" data-name="路径 200" class="cls-1" d="M4.477,2.943H19.051l-.687-1.187L17.678.566l-.687,1.189-.357.619H3.909c-.593,0-1.24-.053-1.886-.1l.723.955a5.333,5.333,0,0,1,1.731-.283" transform="translate(1.796 0.503)"/>
              </g>
            </g>
            <!-- 单个图片位置 - 底边不动：向上增加30px（高度 +30，y -30） -->
            
            <g id="image-slot-1" class="image-slot" transform="translate(0 159)">
              <!-- 白色矩形框 -->
              <rect x="0" y="0" width="393" height="573.113" class="cls-1" fill="#FFFFFF" stroke="none" rx="1.97"/>
              <!-- 图标容器 - 居中显示在白色框中间 (393/2 = 196.5, 573.113/2 = 286.5565) -->
              <g id="realm-icon-container" transform="translate(196.5 286.5565)" style="display: none;">
                <!-- 天堂：十字架图标（基督教）- 20x20px，灰色 -->
                <g id="icon-heaven" class="realm-icon" style="display: none;">
                  <svg viewBox="0 0 1024 1024" width="20" height="20" x="-10" y="-10">
                    <path d="M842.7434082 290.84521484H622.3302002V90.125h-210.93750001v200.72021484H190.97949219v210.9375h220.41320801V933.875h210.93749999V501.78271484h220.41320801z" fill="#808080"/>
                  </svg>
                </g>
                <!-- 净土：莲花图标（佛教）- 20x20px，灰色 -->
                <g id="icon-paradise" class="realm-icon" style="display: none;">
                  <svg viewBox="0 0 1024 1024" width="20" height="20" x="-10" y="-10">
                    <path d="M599.68512 706.84672s-45.25056 50.14528-87.63904 50.14528c-45.16352 0-87.63904-50.14528-87.63904-50.14528s-50.07872 31.34464-25.0368 75.22304c25.0368 43.8784 112.67584 100.29568 112.67584 100.29568s94.26432-57.27232 112.67584-100.29568c19.13344-44.70272-25.0368-75.22304-25.0368-75.22304z m-300.4672 12.53888c-49.9712-7.14752-75.11552-25.07264-75.11552-25.07264s-63.33952 12.53376-62.59712 75.22304c0.47104 39.69536 62.59712 75.22304 62.59712 75.22304s58.5472-10.82368 100.15744-37.61152c45.824-29.49632 75.11552-87.7568 75.11552-87.7568s-65.24928 4.98688-100.15744-0.00512z m513.30048-25.07776s-25.14944 17.92512-75.11552 25.07264c-34.90816 4.992-100.15744 0-100.15744 0s29.29664 58.26048 75.11552 87.7568c41.61024 26.78784 100.15744 37.61152 100.15744 37.61152s62.12608-35.52768 62.59712-75.22304c0.7424-62.68416-62.59712-75.21792-62.59712-75.21792z m-676.05504-87.7568c-30.39232-47.34464-37.56032-100.29568-37.56032-100.29568S29.9264 534.76864 11.26912 581.4784c-18.89792 47.31392 12.5184 112.82944 12.5184 112.82944s37.8112 15.86176 87.63904 12.53888c43.65824-2.91328 100.15744-25.07264 100.15744-25.07264s-49.60768-35.47648-75.12064-75.22304z m876.3648-25.07264c-18.65728-46.70976-87.63904-75.22304-87.63904-75.22304s-7.16288 52.95104-37.56032 100.29568c-25.51296 39.74656-75.11552 75.22304-75.11552 75.22304s56.49408 22.15936 100.15744 25.07264c49.82784 3.328 87.63904-12.53888 87.63904-12.53888s31.42144-65.51552 12.5184-112.82944zM361.81504 669.2352c-0.65536 0.57344-55.69024-28.9536-89.74848-95.98976-28.80512-56.704-46.6432-139.25376-85.5296-179.81952-62.76608-65.46944-125.19424-37.61152-125.19424-37.61152s94.848 185.37472 158.98112 285.54752c50.26816 78.52544 141.3376 28.26752 141.4912 27.87328z m300.4672 0c0.1536 0.38912 91.22304 50.65216 141.4912-27.87328 64.13312-100.17792 158.976-285.54752 158.976-285.54752s-62.43328-27.85792-125.19424 37.61152c-38.8864 40.56064-56.72448 123.11552-85.5296 179.81952-34.05312 67.03616-89.088 96.5632-89.74336 95.98976z m-262.90688-125.36832c2.17088 80.37888 112.67584 137.9072 112.67584 137.9072s112.67584-28.91776 112.67584-137.9072c0-122.1888-112.67584-313.4208-112.67584-313.4208h-12.5184c-0.00512 0-103.8336 177.25952-100.15744 313.4208z m12.5184-225.664L349.29664 192.83456S265.0368 276.13184 261.6576 380.88704c-2.83648 88.12032 75.11552 200.59136 75.11552 200.59136l75.12064-263.27552z m363.06432 62.68416c-3.37408-104.7552-87.63904-188.05248-87.63904-188.05248l-62.59712 125.36832 75.11552 263.27552c0.00512 0 77.96224-112.47104 75.12064-200.59136z" fill="#808080"/>
                  </svg>
                </g>
                <!-- 祖先：云图标（从EPS转换）- 20x20px，灰色，旋转180度 -->
                <g id="icon-ancestors" class="realm-icon" style="display: none;">
                  <svg viewBox="0 0 717 717" width="20" height="20" x="-10" y="-10" transform="rotate(180 0 0)">
                    <path d="M189.004 442.394 C212.199 442.394 230.988 423.605 230.988 400.409 L230.988 -0.001 L168.012 -0.001 L168.012 148.402 C168.012 160.003 158.609 169.409 147.008 169.409 C135.406 169.409 126.004 160.003 126.004 148.402 L126.004 -0.001 L84.02 -0.001 C78.449 -0.009 73.102 2.202 69.16 6.14 C65.215 10.077 63 15.421 63 20.991 L63 242.894 C63 225.495 48.898 211.394 31.5 211.394 C14.102 211.394 0 225.495 0 242.894 L0 358.402 C0 380.675 8.848 402.042 24.602 417.792 C40.352 433.546 61.719 442.394 83.992 442.394 Z M632.805 442.394 C655.082 442.394 676.445 433.546 692.199 417.792 C707.949 402.042 716.801 380.675 716.801 358.402 L716.801 242.894 C716.801 225.503 702.703 211.405 685.312 211.405 C667.922 211.405 653.824 225.503 653.824 242.894 L653.824 20.991 C653.824 15.421 651.609 10.077 647.668 6.14 C643.723 2.202 638.379 -0.009 632.805 -0.001 L590.824 -0.001 L590.824 148.402 C590.824 155.909 586.82 162.843 580.32 166.593 C573.82 170.347 565.812 170.347 559.316 166.593 C552.816 162.843 548.812 155.909 548.812 148.402 L548.812 -0.001 L485.812 -0.001 L485.812 400.386 C485.812 423.605 504.602 442.394 527.797 442.394 Z M464.793 547.405 C465.535 547.405 466.227 547.226 466.945 547.226 C472.445 520.913 487.82 497.71 509.902 482.382 C471.363 473.948 443.875 439.859 443.801 400.409 L443.801 -0.001 L379.391 -0.001 L379.391 232.398 C379.391 243.991 369.992 253.39 358.398 253.39 C346.805 253.39 337.406 243.991 337.406 232.398 L337.406 -0.001 L273 -0.001 L273 400.386 C273 440.577 244.633 474.136 206.898 482.382 C228.98 497.71 244.352 520.913 249.855 547.226 C250.574 547.226 251.266 547.405 252.008 547.405 Z M146.996 631.398 C181.762 631.355 209.941 603.191 209.996 568.421 C209.969 533.644 181.797 505.452 147.02 505.394 C112.223 505.409 84.012 533.601 83.969 568.398 C84.012 603.175 112.191 631.355 146.969 631.398 Z M569.805 631.398 C604.562 631.343 632.723 603.179 632.781 568.421 C632.754 533.644 604.582 505.452 569.805 505.394 C535.027 505.437 506.844 533.62 506.805 568.398 C506.844 603.163 535.012 631.343 569.777 631.398 Z M358.398 716.8 C393.141 716.8 421.375 687.128 421.375 652.39 C421.32 617.632 393.156 589.472 358.398 589.413 C323.645 589.472 295.48 617.632 295.426 652.39 C295.426 687.128 323.637 716.8 358.398 716.8 Z" fill="#808080"/>
                  </svg>
                </g>
                <!-- 永恒：圆圈图标 - 20x20px，灰色 -->
                <g id="icon-eternal" class="realm-icon" style="display: none;">
                  <svg viewBox="0 0 1024 1024" width="20" height="20" x="-10" y="-10">
                    <path d="M512 64C264.576 64 64 264.576 64 512s200.576 448 448 448 448-200.576 448-448S759.424 64 512 64z m0 96c194.4 0 352 157.6 352 352s-157.6 352-352 352S160 706.4 160 512 317.6 160 512 160z" fill="#808080"/>
                  </svg>
                </g>
              </g>
              <foreignObject x="0" y="0" width="393" height="573.113" style="overflow: visible;">
                <div xmlns="http://www.w3.org/1999/xhtml" class="image-container" data-slot="1" style="width: 100%; height: 100%; position: relative; overflow: hidden; background: transparent;">
                  <button id="fullscreen-icon-btn" type="button" class="image-fullscreen-btn" aria-label="放大" style="position: absolute; top: 12px; right: 10px; width: 20px; height: 20px; background: transparent; border: none; padding: 0; margin: 0; z-index: 10002; pointer-events: all; cursor: pointer;">
                    <svg viewBox="0 0 14.2 14.2" width="13" height="13" xmlns="http://www.w3.org/2000/svg" style="display:block; margin:auto;">
                      <style type="text/css">.st0{fill:currentColor;}</style>
                      <g>
                        <path class="st0" d="M6.6,11.7H3.1l2.9-2.9c0.1-0.1,0.1-0.4,0-0.6c-0.1-0.2-0.4-0.2-0.6,0l-2.9,2.9V7.4C2.5,7.2,2.2,7,2,7S1.6,7.2,1.6,7.4v4c0,0.6,0.4,1.3,1,1.3h3.9c0.2,0,0.4-0.2,0.4-0.4C7,11.9,6.8,11.7,6.6,11.7z"/>
                        <path class="st0" d="M11.8,1.6H7.7C7.5,1.6,7.3,1.8,7.3,2s0.2,0.4,0.4,0.4h3.5L8.2,5.2c-0.1,0.1-0.1,0.4,0,0.6C8.4,6,8.7,6,8.9,5.9L11.7,3v3.5c0,0.2,0.2,0.4,0.4,0.4s0.4-0.2,0.4-0.4V2.7C12.6,2,12.3,1.6,11.8,1.6L11.8,1.6z"/>
                      </g>
                    </svg>
                  </button>
                  <img class="slot-image" data-slot="1" style="display: none; max-width: none; max-height: none; position: absolute; object-fit: cover; cursor: default;" draggable="false"/>
                  <button class="image-remove-btn" data-slot="1" style="display: none; position: absolute; bottom: 5px; left: 5px; width: 20px; height: 20px; background: transparent; border: 1.2px solid white; border-radius: 50%; color: white; font-size: 12px; font-weight: bold; cursor: pointer; z-index: 10000; pointer-events: all; line-height: 18px; padding: 0; text-align: center; visibility: hidden; opacity: 0;">−</button>
                </div>
              </foreignObject>
              <!-- 左上角标记文字（必须在图片之上：放在 foreignObject 之后） -->
              <text id="image-slot-note-text" transform="translate(18 30)" style="pointer-events: none; user-select: none; font-size: 12px; font-weight: 400; font-style: italic; font-family: 'Songti SC', 'STSong', 'SimSun', 'Noto Serif SC', serif; fill: #ffffff;">
                <tspan x="0" y="0">这世界，我来过。</tspan>
              </text>
              <!-- 全屏图标（SVG版已停用：改用 foreignObject 内 HTML 按钮，避免被图片层拦截点击） -->
              <g id="fullscreen-icon" class="fullscreen-icon" transform="translate(333.741 12)" style="display: none; cursor: pointer; pointer-events: none;">
                <svg viewBox="0 0 14.2 14.2" width="21.3" height="21.3" xmlns="http://www.w3.org/2000/svg">
                  <style type="text/css">
                    .st0{fill:#666666;}
                  </style>
                  <g>
                    <path class="st0" d="M6.6,11.7H3.1l2.9-2.9c0.1-0.1,0.1-0.4,0-0.6c-0.1-0.2-0.4-0.2-0.6,0l-2.9,2.9V7.4C2.5,7.2,2.2,7,2,7
                      S1.6,7.2,1.6,7.4v4c0,0.6,0.4,1.3,1,1.3h3.9c0.2,0,0.4-0.2,0.4-0.4C7,11.9,6.8,11.7,6.6,11.7z"/>
                    <path class="st0" d="M11.8,1.6H7.7C7.5,1.6,7.3,1.8,7.3,2s0.2,0.4,0.4,0.4h3.5L8.2,5.2c-0.1,0.1-0.1,0.4,0,0.6C8.4,6,8.7,6,8.9,5.9
                      L11.7,3v3.5c0,0.2,0.2,0.4,0.4,0.4s0.4-0.2,0.4-0.4V2.7C12.6,2,12.3,1.6,11.8,1.6L11.8,1.6z"/>
                  </g>
                </svg>
              </g>
            </g>
            
            <!-- 思念文字显示区域 - 图片框向上扩展30px，为保持相对位置不变：y 同步 -30 -->
            <text id="thought-display-text" class="thought-display-clickable" transform="translate(196.5 657)" visibility="hidden" style="pointer-events: all; cursor: pointer; text-anchor: middle; font-size: 38.4px; font-weight: bold; font-family: FZLanTingHeiS-DB-GB, 'Microsoft YaHei', 'SimHei', sans-serif; fill: #ffffff; opacity: 1;"><tspan x="0" y="0"></tspan></text>
            <!-- 生卒年显示区域 - 在思念文字下方，上移靠近思念文字，再向下移动2px，缩小15% -->
            <text id="birth-death-display-text" class="birth-death-display-clickable" transform="translate(196.5 687)" visibility="hidden" style="pointer-events: all; cursor: pointer; text-anchor: middle; font-size: 20.4px; font-weight: normal; font-family: FZLanTingHeiS-DB-GB, 'Microsoft YaHei', 'SimHei', sans-serif; fill: #ffffff; opacity: 1;"><tspan x="0" y="0"></tspan></text>
            
            <!-- 小图框区域 - 7个小图框，比例与大图一致 -->
            <g id="thumbnail-slots-container" transform="translate(0 738.113)">
              <!-- 7个小图框：整体长度不变(393)，间距6px，单框放大 -->
              <g id="thumbnail-slot-1" class="thumbnail-slot" transform="translate(0 0)">
                <rect x="0" y="0" width="51" height="64.68" fill="#FFFFFF" stroke="none" rx="1.97"/>
                <foreignObject x="0" y="0" width="51" height="64.68" style="overflow: hidden;">
                  <div xmlns="http://www.w3.org/1999/xhtml" class="thumbnail-container" data-thumbnail="1" style="width: 100%; height: 100%; position: relative; overflow: hidden; background: transparent;">
                    <img class="thumbnail-image" data-thumbnail="1" style="display: none; max-width: none; max-height: none; position: absolute; object-fit: cover; cursor: pointer; width: 100%; height: 100%;"/>
                  </div>
                </foreignObject>
              </g>
              <g id="thumbnail-slot-2" class="thumbnail-slot" transform="translate(57 0)">
                <rect x="0" y="0" width="51" height="64.68" fill="#FFFFFF" stroke="none" rx="1.97"/>
                <foreignObject x="0" y="0" width="51" height="64.68" style="overflow: hidden;">
                  <div xmlns="http://www.w3.org/1999/xhtml" class="thumbnail-container" data-thumbnail="2" style="width: 100%; height: 100%; position: relative; overflow: hidden; background: transparent;">
                    <img class="thumbnail-image" data-thumbnail="2" style="display: none; max-width: none; max-height: none; position: absolute; object-fit: cover; cursor: pointer; width: 100%; height: 100%;"/>
                  </div>
                </foreignObject>
              </g>
              <g id="thumbnail-slot-3" class="thumbnail-slot" transform="translate(114 0)">
                <rect x="0" y="0" width="51" height="64.68" fill="#FFFFFF" stroke="none" rx="1.97"/>
                <foreignObject x="0" y="0" width="51" height="64.68" style="overflow: hidden;">
                  <div xmlns="http://www.w3.org/1999/xhtml" class="thumbnail-container" data-thumbnail="3" style="width: 100%; height: 100%; position: relative; overflow: hidden; background: transparent;">
                    <img class="thumbnail-image" data-thumbnail="3" style="display: none; max-width: none; max-height: none; position: absolute; object-fit: cover; cursor: pointer; width: 100%; height: 100%;"/>
                  </div>
                </foreignObject>
              </g>
              <g id="thumbnail-slot-4" class="thumbnail-slot" transform="translate(171 0)">
                <rect x="0" y="0" width="51" height="64.68" fill="#FFFFFF" stroke="none" rx="1.97"/>
                <foreignObject x="0" y="0" width="51" height="64.68" style="overflow: hidden;">
                  <div xmlns="http://www.w3.org/1999/xhtml" class="thumbnail-container" data-thumbnail="4" style="width: 100%; height: 100%; position: relative; overflow: hidden; background: transparent;">
                    <img class="thumbnail-image" data-thumbnail="4" style="display: none; max-width: none; max-height: none; position: absolute; object-fit: cover; cursor: pointer; width: 100%; height: 100%;"/>
                  </div>
                </foreignObject>
              </g>
              <g id="thumbnail-slot-5" class="thumbnail-slot" transform="translate(228 0)">
                <rect x="0" y="0" width="51" height="64.68" fill="#FFFFFF" stroke="none" rx="1.97"/>
                <foreignObject x="0" y="0" width="51" height="64.68" style="overflow: hidden;">
                  <div xmlns="http://www.w3.org/1999/xhtml" class="thumbnail-container" data-thumbnail="5" style="width: 100%; height: 100%; position: relative; overflow: hidden; background: transparent;">
                    <img class="thumbnail-image" data-thumbnail="5" style="display: none; max-width: none; max-height: none; position: absolute; object-fit: cover; cursor: pointer; width: 100%; height: 100%;"/>
                  </div>
                </foreignObject>
              </g>
              <g id="thumbnail-slot-6" class="thumbnail-slot" transform="translate(285 0)">
                <rect x="0" y="0" width="51" height="64.68" fill="#FFFFFF" stroke="none" rx="1.97"/>
                <foreignObject x="0" y="0" width="51" height="64.68" style="overflow: hidden;">
                  <div xmlns="http://www.w3.org/1999/xhtml" class="thumbnail-container" data-thumbnail="6" style="width: 100%; height: 100%; position: relative; overflow: hidden; background: transparent;">
                    <img class="thumbnail-image" data-thumbnail="6" style="display: none; max-width: none; max-height: none; position: absolute; object-fit: cover; cursor: pointer; width: 100%; height: 100%;"/>
                  </div>
                </foreignObject>
              </g>
              <g id="thumbnail-slot-7" class="thumbnail-slot" transform="translate(342 0)">
                <rect x="0" y="0" width="51" height="64.68" fill="#FFFFFF" stroke="none" rx="1.97"/>
                <foreignObject x="0" y="0" width="51" height="64.68" style="overflow: hidden;">
                  <div xmlns="http://www.w3.org/1999/xhtml" class="thumbnail-container" data-thumbnail="7" style="width: 100%; height: 100%; position: relative; overflow: hidden; background: transparent;">
                    <img class="thumbnail-image" data-thumbnail="7" style="display: none; max-width: none; max-height: none; position: absolute; object-fit: cover; cursor: pointer; width: 100%; height: 100%;"/>
                  </div>
                </foreignObject>
              </g>
            </g>

            <!-- 导航按钮：放到SVG末尾，确保能覆盖在主图之上（位置由JS在主图右下角动态布局） -->
            <g id="组_2" data-name="组 2" transform="translate(0 0)">
              <!-- 天堂按钮 -->
              <g class="nav-button-group" data-button="heaven" style="cursor: pointer;">
                <rect id="矩形_5" data-name="矩形 5" class="nav-btn-rect nav-btn-heaven" width="89.9326" height="18.851" rx="1.97" transform="translate(0 712.262)" style="fill: none; stroke: #fff; stroke-width: 0.659px;"/>
                <text id="天堂" class="cls-8 nav-btn-text nav-btn-text-heaven" transform="translate(44.9663 725.044)" style="fill: #fff;"><tspan x="-11" y="0">天堂</tspan></text>
              </g>
              <!-- 净土按钮 -->
              <g class="nav-button-group" data-button="paradise" style="cursor: pointer;">
                <rect id="矩形_4" data-name="矩形 4" class="nav-btn-rect nav-btn-paradise" width="89.9326" height="18.851" rx="1.97" transform="translate(101.0225 712.262)" style="fill: none; stroke: #fff; stroke-width: 0.659px;"/>
                <text id="净土" class="cls-8 nav-btn-text nav-btn-text-paradise" transform="translate(145.9888 725.331)" style="fill: #fff;"><tspan x="-11" y="0">净土</tspan></text>
              </g>
              <!-- 祖先按钮 -->
              <g class="nav-button-group" data-button="ancestors" style="cursor: pointer;">
                <rect id="矩形_6" data-name="矩形 6" class="nav-btn-rect nav-btn-ancestors" width="89.9326" height="18.851" rx="1.97" transform="translate(202.0449 712.262)" style="fill: none; stroke: #fff; stroke-width: 0.659px;"/>
                <text id="祖先" class="cls-8 nav-btn-text nav-btn-text-ancestors" transform="translate(247.0112 725.18)" style="fill: #fff;"><tspan x="-11" y="0">祖先</tspan></text>
              </g>
              <!-- 永恒按钮 -->
              <g class="nav-button-group" data-button="eternal" style="cursor: pointer;">
                <rect id="矩形_7" data-name="矩形 7" class="nav-btn-rect nav-btn-eternal" width="89.9326" height="18.851" rx="1.97" transform="translate(303.0674 712.262)" style="fill: none; stroke: #fff; stroke-width: 0.659px;"/>
                <text id="永恒" class="cls-8 nav-btn-text nav-btn-text-eternal" transform="translate(348.0337 725.18)" style="fill: #fff;"><tspan x="-11" y="0">永恒</tspan></text>
              </g>
            </g>
            
            <!-- 游客信息显示区域 - 放在主图片框下边，并与注册图标左对齐（置于SVG末尾确保在最上层） -->
            <!-- 主图片框：x=12.5, y=159, height=573.113 => 底边约 y=732.113 -->
            <text id="guest-info-display" class="cls-8" transform="translate(0 79.041)" visibility="hidden" style="fill: #fff; text-anchor: start; pointer-events: none; font-size: 10px;"><tspan x="0" y="0"></tspan></text>

            <!-- “你思·故我在” - 放到SVG末尾确保在最上层（移动到截图红线标记的左侧区域） -->
            <text id="你思·故我在" class="cls-4 thought-text-clickable" transform="translate(0 100.968)" style="cursor: pointer; pointer-events: all; text-anchor: start;"><tspan x="0" y="0">你思·故我在</tspan></text>

            <!-- SVG覆盖层已移除 -->
          </g>
        </svg>
    </div>

    <!-- 隐藏的文件输入框 - 必须在SVG外部，支持多选 -->
    <input type="file" id="image-input" accept="image/*" multiple style="display: none;">

    <!-- 图片处理选择对话框 -->
    <div id="image-process-modal" class="image-process-modal" style="display: none;">
        <div class="image-process-modal-content">
            <div class="image-process-options">
                <button id="process-original" class="process-option-btn" data-option="original">
                    <span>原彩</span>
                </button>
                <button id="process-grayscale" class="process-option-btn" data-option="grayscale">
                    <span>黑白</span>
                </button>
            </div>
        </div>
    </div>

    <!-- 注册弹窗 -->
    <div id="register-modal" class="register-modal" style="display: none;">
        <div class="register-modal-content">
            <div class="register-modal-header">
                <div style="display: flex; align-items: center; gap: 10px;">
                    <h2 style="margin: 0;">注册</h2>
                    <span style="color: rgba(255, 255, 255, 0.5);">/</span>
                    <button type="button" id="guest-browse-btn" class="guest-browse-btn" onclick="enterAsGuest()">随便看看</button>
                </div>
                <button type="button" class="register-modal-close" onclick="closeRegisterModal()">&times;</button>
            </div>
            <form id="register-form" class="register-form" onsubmit="handleRegisterStep1(event); return false;">
                <div class="register-form-group">
                    <input type="text" id="register-username" name="username" required placeholder="请输入用户名" autocomplete="username">
                </div>
                <div class="register-form-group">
                    <input type="email" id="register-email" name="email" required placeholder="请输入邮箱地址" autocomplete="email">
                </div>
                <div class="register-form-group">
                    <label for="soul-affiliation">灵魂归属 <span style="font-size: 12px; color: #999;">(请选择2个)</span></label>
                    <div class="soul-affiliation-options">
                        <label class="soul-affiliation-checkbox">
                            <input type="checkbox" name="soul-affiliation" value="heaven" id="soul-heaven">
                            <span>天堂<span class="soul-affiliation-note">（基督）</span></span>
                        </label>
                        <label class="soul-affiliation-checkbox">
                            <input type="checkbox" name="soul-affiliation" value="paradise" id="soul-paradise">
                            <span>净土<span class="soul-affiliation-note">（佛教）</span></span>
                        </label>
                        <label class="soul-affiliation-checkbox">
                            <input type="checkbox" name="soul-affiliation" value="ancestors" id="soul-ancestors">
                            <span>祖先<span class="soul-affiliation-note">（天地）</span></span>
                        </label>
                        <label class="soul-affiliation-checkbox">
                            <input type="checkbox" name="soul-affiliation" value="eternal" id="soul-eternal">
                            <span>永恒<span class="soul-affiliation-note">（无信仰）</span></span>
                        </label>
                    </div>
                    <div id="soul-affiliation-error" style="color: #ff4444; font-size: 12px; margin-top: 5px; display: none;">请选择2个</div>
                </div>
                <div class="register-form-actions">
                    <button type="button" class="register-btn-cancel" onclick="closeRegisterModal(); return false;">取消</button>
                    <button type="submit" class="register-btn-submit">发送验证码</button>
                </div>
            </form>
        </div>
    </div>

    <!-- 验证码输入弹窗 -->
    <div id="verify-code-modal" class="register-modal" style="display: none;">
        <div class="register-modal-content">
            <div class="register-modal-header">
                <h2>验证邮箱</h2>
                <button type="button" class="register-modal-close" onclick="closeVerifyCodeModal()">&times;</button>
            </div>
            <form id="verify-code-form" class="register-form" onsubmit="handleRegisterStep2(event); return false;">
                <div class="register-form-group">
                    <label for="verify-code">验证码</label>
                    <input type="text" id="verify-code" name="verify-code" required placeholder="请输入6位验证码" maxlength="6" pattern="[0-9]{6}" autocomplete="off">
                    <div style="margin-top: 8px; font-size: 12px; color: #999;">
                        验证码已发送至 <span id="verify-email-display"></span>
                    </div>
                    <div style="margin-top: 8px;">
                        <button type="button" id="resend-code-btn" class="resend-code-btn" onclick="resendVerificationCode()">重新发送</button>
                        <span id="countdown-text" style="margin-left: 10px; font-size: 12px; color: #999;"></span>
                    </div>
                </div>
                <div class="register-form-actions">
                    <button type="button" class="register-btn-cancel" onclick="closeVerifyCodeModal(); return false;">取消</button>
                    <button type="submit" class="register-btn-submit">确认注册</button>
                </div>
            </form>
        </div>
    </div>

    <!-- 手机端提示框（Toast） -->
    <div id="toast-notification" class="toast-notification" style="display: none;">
        <div class="toast-content">
            <span id="toast-message"></span>
        </div>
    </div>

    <!-- 思念文字输入对话框 -->
    <div id="thought-modal" class="thought-modal" style="display: none;">
        <div class="thought-modal-content">
            <div class="thought-modal-body">
                <textarea id="thought-input" class="thought-input" placeholder="请输入您的思念文字（最多20字）..." rows="2" maxlength="20"></textarea>
                <input type="text" id="birth-death-input" class="birth-death-input" placeholder="生卒年（例如：1920-2020）..." maxlength="20">
                <div id="thought-color-panel" class="thought-color-panel">
                    <div id="thought-color-sv" class="thought-color-sv" aria-label="色谱选择区">
                        <div id="thought-color-cursor" class="thought-color-cursor"></div>
                    </div>
                    <input id="thought-color-hue" class="thought-color-hue" type="range" min="0" max="360" value="0" aria-label="色相">
                    <div id="thought-color-presets" class="thought-color-presets" aria-label="常用颜色">
                        <button type="button" class="thought-color-preset" data-color="#ffffff" aria-label="白色"></button>
                        <button type="button" class="thought-color-preset" data-color="#000000" aria-label="黑色"></button>
                        <button type="button" class="thought-color-preset" data-color="#ff0000" aria-label="红色"></button>
                        <button type="button" class="thought-color-preset" data-color="#ff7a00" aria-label="橙色"></button>
                        <button type="button" class="thought-color-preset" data-color="#ffd72e" aria-label="黄色"></button>
                        <button type="button" class="thought-color-preset" data-color="#30ac94" aria-label="绿色"></button>
                        <button type="button" class="thought-color-preset" data-color="#00c2ff" aria-label="青色"></button>
                        <button type="button" class="thought-color-preset" data-color="#007aff" aria-label="蓝色"></button>
                        <button type="button" class="thought-color-preset" data-color="#8a2be2" aria-label="紫色"></button>
                        <button type="button" class="thought-color-preset" data-color="#ff4dd2" aria-label="粉色"></button>
                    </div>
                    <div class="thought-color-hex-row">
                        <input id="thought-color-hex" class="thought-color-hex" type="text" value="#ffffff" maxlength="7" aria-label="颜色值（HEX）">
                        <div class="thought-color-hex-tip">#RRGGBB</div>
                    </div>
                </div>
            </div>
            <div class="thought-modal-actions">
                <button type="button" class="thought-btn-cancel" onclick="closeThoughtModal()">取消</button>
                <button type="button" class="thought-btn-submit" onclick="saveThought()">保存</button>
            </div>
        </div>
    </div>

    <!-- 寄语（更改“你思·故我在”这行标题文字，不改位置） -->
    <div id="motto-modal" class="thought-modal" style="display: none;">
        <div class="thought-modal-content">
            <div class="thought-modal-body">
                <input type="text" id="motto-input" class="birth-death-input" placeholder="请输入寄语（最多10字）..." maxlength="10">
            </div>
            <div class="thought-modal-actions">
                <button type="button" class="thought-btn-cancel" onclick="closeMottoModal()">取消</button>
                <button type="button" class="thought-btn-submit" onclick="saveMotto()">确定</button>
            </div>
        </div>
    </div>

    <!-- 全屏图片显示模态 -->
    <div id="fullscreen-modal" class="fullscreen-modal" style="display: none;">
        <div class="fullscreen-container">
            <div id="fullscreen-content" class="fullscreen-content">
                <!-- 图片容器 -->
                <div class="fullscreen-image-wrapper">
                    <img id="fullscreen-image" class="fullscreen-image" src="" alt="全屏图片" style="display: none;"/>
                    <!-- 全屏按钮 - 保持在图片右上角相对位置 -->
                    <div id="fullscreen-close-icon-in-image" class="fullscreen-close-icon-in-image">
                        <svg viewBox="0 0 14.2 14.2" width="21.3" height="21.3" xmlns="http://www.w3.org/2000/svg">
                            <style type="text/css">
                                .fullscreen-icon-fill{fill:currentColor;}
                            </style>
                            <g>
                                <path class="fullscreen-icon-fill" d="M6.6,11.7H3.1l2.9-2.9c0.1-0.1,0.1-0.4,0-0.6c-0.1-0.2-0.4-0.2-0.6,0l-2.9,2.9V7.4C2.5,7.2,2.2,7,2,7
                                  S1.6,7.2,1.6,7.4v4c0,0.6,0.4,1.3,1,1.3h3.9c0.2,0,0.4-0.2,0.4-0.4C7,11.9,6.8,11.7,6.6,11.7z"/>
                                <path class="fullscreen-icon-fill" d="M11.8,1.6H7.7C7.5,1.6,7.3,1.8,7.3,2s0.2,0.4,0.4,0.4h3.5L8.2,5.2c-0.1,0.1-0.1,0.4,0,0.6C8.4,6,8.7,6,8.9,5.9
                                  L11.7,3v3.5c0,0.2,0.2,0.4,0.4,0.4s0.4-0.2,0.4-0.4V2.7C12.6,2,12.3,1.6,11.8,1.6L11.8,1.6z"/>
                            </g>
                        </svg>
                    </div>
                    <!-- 轮播锁（放大页：锁定=暂停轮播，开锁=继续轮播） -->
                    <button id="fullscreen-carousel-lock" type="button" class="fullscreen-carousel-lock" aria-label="锁定轮播" style="display:none;">
                        <svg viewBox="0 0 24 24" aria-hidden="true">
                            <!-- locked -->
                            <g class="lock-locked">
                                <path d="M7 11V8a5 5 0 0 1 10 0v3" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                <rect x="6" y="11" width="12" height="10" rx="2" fill="none" stroke="currentColor" stroke-width="2"/>
                            </g>
                            <!-- unlocked -->
                            <g class="lock-unlocked">
                                <path d="M9 11V8a5 5 0 0 1 9-3" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                <rect x="6" y="11" width="12" height="10" rx="2" fill="none" stroke="currentColor" stroke-width="2"/>
                            </g>
                        </svg>
                    </button>
                    <!-- 思念文字 - 放大页独立显示（点击弹窗编辑，不影响主页面） -->
                    <div id="fullscreen-thought-text" class="fullscreen-thought-text" style="display: none;"></div>
                    <!-- 生卒年 - 放大页独立显示（点击弹窗编辑，不影响主页面） -->
                    <div id="fullscreen-birth-death" class="fullscreen-birth-death" style="display: none;"></div>
                    <!-- 放大页底部说明文字（与“这世界，我来过。”一致风格） -->
                    <div id="fullscreen-note-text" class="fullscreen-note-text">云归不提供安慰.也不制造意义，它只承认一件事-生命来过.因果成立。</div>
                </div>

                <!-- 放大页操作按钮层（固定在画布内，避免不同 WebView 导致偏移） -->
                <div class="fullscreen-actions" aria-hidden="false">
                    <div class="fullscreen-actions-right" aria-label="互动按钮">
                        <!-- 转发图标（放大页） -->
                        <div id="fullscreen-forward-icon" class="fullscreen-forward-icon" aria-label="转发" role="button">
                            <svg viewBox="0 0 110.2 110.2" xmlns="http://www.w3.org/2000/svg">
                                <path class="forward-bg" d="M17.6,55.1c0,20.7,16.8,37.5,37.5,37.5s37.5-16.8,37.5-37.5c0,0,0,0,0,0c0-20.7-16.8-37.5-37.5-37.5
	S17.6,34.4,17.6,55.1C17.6,55.1,17.6,55.1,17.6,55.1z"/>
                                <path class="forward-fg" d="M78.2,54.1L60.5,69.7c-1.5,1.4-4,0.3-4-1.8v-7.9c-0.6,0-1.2-0.1-1.8-0.1c-8.1,0-15.2,3.8-19,9.4
	c-0.8,1.1-2.5,0.7-2.7-0.7c-0.1-0.8-0.1-1.5-0.1-2.3c0-11.8,10.2-21.6,23.6-23.3v-7.9c0-2.1,2.5-3.2,4-1.8l17.8,17
	C79.2,51.5,79.2,53,78.2,54.1C78.3,54,78.3,54.1,78.2,54.1L78.2,54.1z"/>
                            </svg>
                            <div id="fullscreen-forward-count" class="fs-action-count">0</div>
                        </div>

                    </div>
                </div>

                <!-- 蜡烛视频（仅放大页显示，固定在放大页画布内） -->
                <video
                    id="fullscreen-candle-video"
                    class="fullscreen-candle-video"
                    src="蜡烛.mp4"
                    muted
                    loop
                    playsinline
                    preload="auto"
                    style="display: none;"
                ></video>

                <!-- 蜡烛5（仅放大页显示，右侧缩小，固定在放大页画布内） -->
                <video
                    id="fullscreen-candle-video-5"
                    class="fullscreen-candle-video-5"
                    src="蜡烛5.mp4"
                    muted
                    loop
                    playsinline
                    preload="auto"
                    style="display: none;"
                ></video>
            </div>
        </div>
    </div>

    <!-- 转发截图链接弹窗（放大页点击转发后出现） -->
    <div id="share-link-modal" class="share-link-modal" style="display: none;">
        <div class="share-link-modal-content">
            <div class="share-link-modal-header">
                <div class="share-link-title">转发截图链接</div>
                <button type="button" class="share-link-close" onclick="closeShareLinkModal()">&times;</button>
            </div>
            <div class="share-link-modal-body">
                <div class="share-link-tip">复制下方链接，粘贴到任何聊天框发送即可（对方打开看到的是本页截图，无法修改）。</div>
                <input id="share-link-input" class="share-link-input" type="text" readonly value="" />
                <img id="share-shot-preview" class="share-shot-preview" alt="分享截图预览" style="display:none;" />
            </div>
            <div class="share-link-modal-actions">
                <button type="button" id="share-link-copy-btn" class="share-link-copy-btn">复制链接</button>
                <button type="button" id="share-shot-save-btn" class="share-link-cancel-btn">保存截图</button>
                <button type="button" class="share-link-cancel-btn" onclick="closeShareLinkModal()">关闭</button>
            </div>
        </div>
    </div>

    <script src="app.js?v=20260204-2"></script>
    
    <!-- 调试工具 - 仅在开发时使用 -->
    <script>
        // 添加一个全局测试函数，方便在控制台调用
        window.testRegister = function() {
            console.log('=== 开始测试注册功能 ===');
            
            // 测试1: 查找元素
            const btn = document.querySelector('.register-button') || document.querySelector('#组_4');
            const icon = document.querySelector('.register-icon') || document.querySelector('#路径_2');
            console.log('1. 查找元素:', {
                button: !!btn,
                icon: !!icon,
                buttonElement: btn,
                iconElement: icon
            });
            
            // 测试2: 检查绑定状态
            if (btn) {
                console.log('2. 绑定状态:', btn.hasAttribute('data-bound'));
            }
            
            // 测试3: 测试打开弹窗
            try {
                if (typeof openRegisterModal === 'function') {
                    console.log('3. 测试打开弹窗...');
                    openRegisterModal();
                    console.log('✅ 弹窗已打开');
                } else {
                    console.error('❌ openRegisterModal 函数不存在');
                }
            } catch (e) {
                console.error('❌ 打开弹窗失败:', e);
            }
            
            // 测试4: 手动触发点击
            if (btn) {
                console.log('4. 手动触发点击事件...');
                try {
                    // 方法1: 直接调用处理函数
                    handleRegisterButtonClick({
                        preventDefault: function(){},
                        stopPropagation: function(){},
                        target: btn
                    });
                    console.log('✅ 直接调用处理函数成功');
                } catch (e) {
                    console.error('❌ 直接调用失败:', e);
                }
                
                try {
                    // 方法2: 触发点击事件
                    const event = new MouseEvent('click', {
                        bubbles: true,
                        cancelable: true,
                        view: window
                    });
                    btn.dispatchEvent(event);
                    console.log('✅ 点击事件已触发');
                } catch (e) {
                    console.error('❌ 触发事件失败:', e);
                }
            }
            
            console.log('=== 测试完成 ===');
            return {
                button: btn,
                icon: icon,
                functions: {
                    openRegisterModal: typeof openRegisterModal,
                    handleRegisterButtonClick: typeof handleRegisterButtonClick
                }
            };
        };
        
        // 页面加载完成后显示提示和诊断
        window.addEventListener('load', function() {
            setTimeout(function() {
                console.log('%c📋 注册功能测试工具已加载', 'color: green; font-size: 16px; font-weight: bold;');
                console.log('%c在控制台输入以下命令进行测试:', 'color: blue; font-size: 14px;');
                console.log('%c  window.testRegister()', 'color: #007bff; font-family: monospace; font-size: 12px;');
                console.log('%c或者直接点击页面右上角的用户图标', 'color: blue; font-size: 14px;');
                
                // 自动运行诊断
                setTimeout(function() {
                    console.log('%c🔍 自动诊断注册按钮状态...', 'color: orange; font-size: 14px; font-weight: bold;');
                    const btn = document.querySelector('.register-button') || document.querySelector('#组_4');
                    const icon = document.querySelector('.register-icon') || document.querySelector('#路径_2');
                    
                    if (btn) {
                        console.log('✅ 找到注册按钮元素');
                        console.log('   - 已绑定:', btn.hasAttribute('data-bound'));
                        console.log('   - pointer-events:', window.getComputedStyle(btn).pointerEvents);
                        console.log('   - cursor:', window.getComputedStyle(btn).cursor);
                        console.log('   - z-index:', window.getComputedStyle(btn).zIndex);
                        
                        // 检查是否有元素遮挡
                        const rect = btn.getBoundingClientRect();
                        const elementAtPoint = document.elementFromPoint(rect.left + rect.width/2, rect.top + rect.height/2);
                        console.log('   - 点击位置元素:', elementAtPoint);
                        console.log('   - 是否被遮挡:', elementAtPoint !== btn && elementAtPoint !== icon);
                    } else {
                        console.error('❌ 未找到注册按钮元素');
                    }
                    
                    if (icon) {
                        console.log('✅ 找到注册图标元素');
                        console.log('   - pointer-events:', window.getComputedStyle(icon).pointerEvents);
                    } else {
                        console.warn('⚠️ 未找到注册图标元素');
                    }
                    
                    // 测试点击
                    console.log('%c💡 提示: 如果点击无反应，在控制台运行 window.testRegister() 查看详细信息', 'color: purple; font-size: 12px;');
                }, 2000);
            }, 1000);
        });
    </script>
</body>
</html>
